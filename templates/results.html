<!DOCTYPE html>
<!-- 밑부분 삭제 필요 -->
<!-- assets 복사 필요 , bootstrap--> 
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" href="../static/assets/img/logo-fav.png">
  <title>layout test</title>
  <link rel="stylesheet" type="text/css" href="../static/assets/lib/perfect-scrollbar/css/perfect-scrollbar.min.css"/>
    <link rel="stylesheet" type="text/css" href="../static/assets/lib/material-design-icons/css/material-design-iconic-font.min.css"/><!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="../static/assets/css/app.css?ver=11" type="text/css"/>
  <style>
    #my_dataviz text{
      font : 18px sans-sarif;
      fill : #FFF;
    }

    #my_dataviz .domain{
      stroke : #FFF;
      stroke-width : 1px;
    }
    #my_dataviz line{
      stroke: #FFF;
      stroke-width: 1px;
    }
  </style>
</head>
<body>

  <form method="POST" action="/vis_system/templates/results">

    <div class="be-wrapper be-fixed-sidebar">
      <nav class="navbar navbar-expand fixed-top be-top-header">
        
      </nav>
      <div class="be-left-sidebar">
        <div class="left-sidebar-wrapper"><a href="#" class="left-sidebar-toggle">Chart.js</a>
          <div class="left-sidebar-spacer">
            <div class="left-sidebar-scroll">
              <div class="left-sidebar-content">
                <div class="progress-widget">
                  <div class="progress-data"><span class="name">MODEL</span></div>
                  <br>
                  <div class="row mt-1">
                    <div class="col-6">
                      <label class="custom-control custom-checkbox w-100 mr-0">
                        <input type="checkbox"  class="custom-control-input" value="lstm" name="model"><span class="custom-control-label">LSTM</span>
                      </label>
                      <label class="custom-control custom-checkbox w-100">
                        <input type="checkbox" class="custom-control-input" value="gru" name="model"><span class="custom-control-label">GRU</span>
                      </label>
                      <label class="custom-control custom-checkbox w-100">
                        <input type="checkbox" class="custom-control-input" value="convlstm" name="model"><span class="custom-control-label">Convlstm</span>
                      </label>
                    </div>
                  </div> 

                </div>
                
                <div class="progress-widget">
                  <div class="progress-data"><span class="name">FEATURES</span></div>
                  <br>
                  <input type="checkbox" value="pm10" name="feature"> PM10
                  <input type="checkbox" value="pm25" name="feature"> PM2.5 <br>
                  <input type="checkbox" value="humi" name="feature"> Humidity
                  <input type="checkbox" value="noise" name="feature"> Noise
                  <input type="checkbox" value="temp" name="feature"> Temperature
                  

                </div>



                <div class="progress-widget">
                  <div class="progress-data"><span class="name">FEATURES for AutoCorr</span></div>
                  <br>
                  <input type="radio" value="pm10" name="feature_a"> PM10
                  <input type="radio" value="pm25" name="feature_a"> PM2.5 <br>
                  <input type="radio" value="humi" name="feature_a"> Humidity
                  <input type="radio" value="noise" name="feature_a"> Noise
                  <input type="radio" value="temp" name="feature_a"> Temperature
                  

                </div>

                
                <div class="progress-widget">
                  <div class="progress-data"><span class="name">DATE</span></div>
                  <br>
                  <input type="date" id="start" name="trip-start"
                  value="2019-09-10"
                  min="2019-09-01" max="2019-10-31">

                </div>
                <br>
                <div class="progress-widget">
                  <div class="progress-data"><span class="name">TIME LAGS</span></div>
                  <br>
<!--
  <input type="checkbox" value="6" name="lag"> 6
        <input type="checkbox" value="24" name="lag"> 24
        <input type="checkbox" value="72" name="lag"> 72
      -->
      <table class="table table-sm">
        <thead>
          <tr>
            <th style="width:10%;">√</th>
            <th style="width:40%;">Time lag</th>
            <th style="width:50%;">TAC</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <label class="custom-control custom-control-sm custom-checkbox">
                <input type="checkbox" class="custom-control-input" value="6" name="lag">
                <span class="custom-control-label"></span>
              </label>                        
            </td>
            <td>6 hour</td>
            <td>
              <div class="progress" style="height:8px;">
                <div style="width: 49%" class="progress-bar progress-bar-primary"></div>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <label class="custom-control custom-control-sm custom-checkbox">
                <input type="checkbox" class="custom-control-input"value="24" name="lag">
                <span class="custom-control-label"></span>
              </label>                        
            </td>
            <td>24 hour</td>
            <td>
              <div class="progress" style="height:8px;">
                <div style="width: 48%" class="progress-bar progress-bar-primary"></div>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <label class="custom-control custom-control-sm custom-checkbox">
                <input type="checkbox" class="custom-control-input" value="72" name="lag">
                <span class="custom-control-label"></span>
              </label>                        
            </td>
            <td>72 hour</td>
            <td>
              <div class="progress" style="height:8px;">
                <div style="width: 10%" class="progress-bar progress-bar-primary"></div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>


      <br><br>
      <input type="submit">
      
    </form>

  </div>
  


  
</div>

</div>
</div>

</div>
</div>
<div class="be-content">
        <!--
        <div class="page-head">
          <h2 class="page-head-title">System</h2>
        </div>
      -->
      
      <div class="main-content container-fluid">


        <div class="row">

          <div class="col-lg-6">
            <!-- 이 밑 부터 각 class 당 chart 하나 -->
            <div class="card">
                <!--
                <div class="card-header card-header-divider">
               <span class="title">Chart 1</span>
               <span class="card-subtitle">This is a line chart created with Chart.js</span>
                </div>
              -->
              <div class="card-body">
                  <!-- 여기에 그래프 -
                    <canvas id="abcde"></canvas>-->
                    <div id="abcde"></div>  
                  </div>
                </div>
              </div>


              <div class="col-lg-6">
                <div class="card">
              <!--
                <div class="card-header card-header-divider">

                  <span class="title">Bar Chart</span><span class="card-subtitle">This is a bar chart created with Chart.js</span>
                </div>
              -->
              <div class="card-body">
                  <!-- 여기에 그래프
                    <canvas id="bar-chart"></canvas>-->
                    <div id="autoc"></div>
                  </div>
                </div>
              </div>
            </div>


            <div class="row">
              <div class="col-lg-6">
                <div class="card">
                <!--
                <div class="card-header card-header-divider">
                  <span class="title">Radar Chart</span><span class="card-subtitle">This is a radar chart created with Chart.js</span>
                </div>
              -->
              <div class="card-body">
                <canvas id="radar-chart" height="200"></canvas>
              </div>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="card">
                <!--
                <div class="card-header card-header-divider">
                  <span class="title">Polar Chart</span><span class="card-subtitle">This is a polar area chart created with Chart.js</span>
                </div>
              -->
              <div class="card-body">
                 <div id="moranslist"></div>
              </div>
            </div>
          </div>
        </div>


        <div class="row">
          <div class="col-lg-6">
            <div class="card">
                <!--
                <div class="card-header card-header-divider">
                  <div class="tools"><span class="icon mdi mdi-chevron-down"></span><span class="icon mdi mdi-refresh-sync"></span><span class="icon mdi mdi-close"></span></div><span class="title">Pie Chart</span><span class="card-subtitle">This is a pie chart created with Chart.js</span>
                </div>
              -->
              <div class="card-body">
                <table>
                  <tr>
                    <td><img src="../static/images/results/true.png" alt="Prediction" width="200px" height="160px"/></td>
                    <td><img src="../static/images/results/true.png" alt="Ground Truth"width="200px" height="160px"/></td>
                    <td><img src="../static/images/results/res.png" alt="Residual"width="200px" height="160px"/></td>
                  </tr>
                  <tr>
                    <td><img src="../static/images/results/lisa_pred.png" alt="Prediction"width="200px" height="160px"/></td>
                    <td><img src="../static/images/results/lisa_true.png" alt="Lisa"width="200px" height="160px"/></td>
                    <td><img src="../static/images/results/sd.png" alt="Standard Deviation"width="200px" height="160px"/></td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="card">
                <!--
                <div class="card-header card-header-divider">
                  <div class="tools"><span class="icon mdi mdi-chevron-down"></span><span class="icon mdi mdi-refresh-sync"></span><span class="icon mdi mdi-close"></span></div><span class="title">Doughnut Chart</span><span class="card-subtitle">This is a oughnut area chart created with Chart.js</span>
                </div>
              -->
              <div class="card-body">
               <div id="my_dataviz"></div>
             </div>
           </div>
         </div>
       </div>
     </div>
   </div>
   
   
   <script>
    var pred_d = {{data1|safe}};
    var ob_d = {{data2|safe}};
    var corrD = {{data.df_corr | safe}};
    var graphData = {{ data.chart_data | safe }};

    console.log(corrD);
      //var autofeature = {{data3|safe}};
      //console.log(autofeature);

    </script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>

    <script src="//d3js.org/d3.v4.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://d3js.org/queue.v1.min.js">  </script>

    <script>
      Highcharts.chart('abcde', {
        chart: {
          type: 'boxplot',
          backgroundColor: {
            linearGradient: { x1: 0, y1: 0, x2: 1, y2: 1 },
            stops: [
            [0, '#2a2a2b'],
            [1, '#2a2a2b']
            ]
          },
          style: {
            fontFamily: '\'Unica One\', sans-serif'
          },
          plotBorderColor: '#606063'
        },
        
        title: {text: ''},
        credits:{enabled:false},
        
        
        xAxis: {
          categories: ['0','1', '2', '3', '4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23'],    
          gridLineColor: '#707073',
          labels: {
            style: {
              color: '#E0E0E3',
              fontSize:'20px'
            }
          },
          lineColor: '#707073',
          minorGridLineColor: '#505053',
          tickColor: '#707073',
          title: {
            text: 'Hour',
            style: {
              color: '#FFFFFF',
              fontSize:'20px'
            }
          }
        },
        
        yAxis: {
          min:0,    
          gridLineColor: '#707073',
          labels: {
            style: {
              color: '#E0E0E3',
              fontSize:'20px'
            }
          },
          lineColor: '#707073',
          minorGridLineColor: '#505053',
          tickColor: '#707073',
          tickWidth: 1,
          title: {
            text: 'PM2.5 (㎍/㎥)',
            style: {
              color: '#FFFFFF',
              fontSize:'20px'
            }
          },
        },
        plotOptions: {
          series: {
            dataLabels: {
              color: '#F0F0F3',
              style: {
                fontSize: '20px'
              }
            },
            marker: {
              lineColor: '#333'
            }
          },
          boxplot: {
            fillColor: '#525252'
          },
          candlestick: {
            lineColor: 'white'
          },
          errorbar: {
            color: 'white'
          }
        },
        legend: {
          align: 'right',
          verticalAlign: 'middle',    
          layout: 'vertical',
          backgroundColor: 'rgba(0, 0, 0, 0.5)',
          itemStyle: {
            color: '#E0E0E3',
            fontSize:'20px',
          },
          itemHoverStyle: {color: '#FFF'},
          itemHiddenStyle: {color: '#606063'},
          
        },
        labels: {
          style: {
            color: '#707073'
          }
        },
        
        series: [
        {
          name: 'Observation',
          data: ob_d
    /////////////////////////////////////
    // Data
    ///////////////////////////////////////
    ,color:'#ffff33',lineWidth:3
    
  },
  {
    name: 'Prediction',
    data: pred_d
    
    /////////////////////////////////////
    // Data
    
    //
    //////////////////////////////////
    
    
    ,color:'#2EFEF7',lineWidth:3
    
  },
  
  ]
  
});
</script>


<script>
  Highcharts.chart('autoc', {
    chart: {
      type: 'line',
      backgroundColor: {
        linearGradient: { x1: 0, y1: 0, x2: 1, y2: 1 },
        stops: [
        [0, '#2a2a2b'],
        [1, '#2a2a2b']
        ]
      },
      plotBorderColor: '#606063'
    },
    colors: ['rgba(153,215,79,0.03)'],
    title: {
      text: ''
    },
    credits:{enabled:false},
    xAxis: {
      gridLineColor: '#707073',
      labels: {
        style: {
          color: '#E0E0E3',
          fontSize:'20px'
        }
      },
      lineColor: '#707073',
      minorGridLineColor: '#505053',
      tickColor: '#707073',
      title: {
        text:'Time lags',
        style: {
          color: '#FFFFFF',
          fontSize:'20px'
        }
      }
    },
    yAxis: {
      min:-1, max:1,
      gridLineColor: '#707073',
      labels: {
        style: {
          color: '#E0E0E3',
          fontSize:'20px'
        }
      },
      plotLines: [{
        value: 0,
        color: '#F15F5F',
        width: 3,
      },
      ],
      lineColor: '#707073',
      minorGridLineColor: '#505053',
      tickColor: '#707073',
      tickWidth: 1,
      title: {
        text: 'Auto-correlation coefficients',
        style: {
          color: '#FFFFFF',
          fontSize:'20px'
        }
      }
    },
    legend:{enabled:false},
    plotOptions: {
      line: {
        marker:{
          enabled:false
        },
        dataLabels: {
          enabled: false
        },
        enableMouseTracking: false
      }
    },
    series: [
    {% for key in data3 %}
    {
      name: '{{ key['name'] }}',
      data: {{ key['data'] }}
    },
    {% endfor %}
    ]
  });
</script>

<script src="../static/js/scatter.js?ver=22" type="text/javascript"></script>


<script>
    Highcharts.chart('moranslist', {
        chart: {
          backgroundColor: {
            linearGradient: { x1: 0, y1: 0, x2: 1, y2: 1 },
            stops: [
            [0, '#2a2a2b'],
            [1, '#2a2a2b']
            ]
          },
          style: {
            fontFamily: '\'Unica One\', sans-serif'
          },
          plotBorderColor: '#606063'
        },

        title: {
            text: ""
        },

        yAxis: {
          gridLineColor : '#707073',
          labels : {
            style:{
              color : '#E0E0E3',
              fontSize : '20px'
            }

          },
          lineColor: '#707073',
          minorGridLineColor: '#505053',
          tickColor: '#707073',
            title: {
                text: 'I0(t)',
                style: {
                  color: '#FFFFFF',
                  fontSize:'20px'
                }
          
          },
            accessibility: {
                rangeDescription: 'Range: -1 to 1'
            }
        },


  

        xAxis: {
          gridLineColor : '#707073',
          labels : {
            style:{
              color : '#E0E0E3',
              fontSize : '20px'
            }

          },
          lineColor: '#707073',
          minorGridLineColor: '#505053',
          tickColor: '#707073',
                title: {
                    text: 'Time [d]',
                    style: {
                  color: '#FFFFFF',
                  fontSize:'20px'
                }
            }
        },

        plotOptions: {
            series: {
                dataLabels: {
                  color: '#F0F0F3',
                  style: {
                  fontSize: '20px'
              }
            },
                label: {
                    connectorAllowed: false
                }
            }
        },

        legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'middle',
            backgroundColor: 'rgba(0, 0, 0, 0.5)',
            itemStyle: {
            color: '#E0E0E3',
            fontSize:'20px',
          },
          itemHoverStyle: {color: '#FFF'},
          itemHiddenStyle: {color: '#606063'},
        },

        series: [
            {% for key in data4 %}
                
                  {% if key['name'] == "Noise" %}
                  {
                    name: '{{ key['name'] }}',
                    data: {{ key['data'] }}
                    ,color : '#ffff33'
                  },
                  {% else %}
                  {
                    name: '{{ key['name'] }}',
                    data: {{ key['data'] }}
                    //,color : '#ffff33'
                  },
                  {% endif %}
                
            {% endfor %}
        ],

        responsive: {
            rules: [{
                condition: {
                    maxWidth: 500
                },
                chartOptions: {
                    legend: {
                        layout: 'horizontal',
                        align: 'center',
                        verticalAlign: 'bottom'
                    }
                }
            }]
        },

        credits: {
            enabled: false
        }

    });
    </script>



<script src="../static/assets/lib/jquery/jquery.min.js" type="text/javascript"></script>
<script src="../static/assets/lib/perfect-scrollbar/js/perfect-scrollbar.jquery.min.js" type="text/javascript"></script>
<script src="../static/assets/lib/bootstrap/dist/js/bootstrap.bundle.min.js" type="text/javascript"></script>
<script src="../static/assets/js/app.js" type="text/javascript"></script>
<script src="../static/assets/lib/chartjs/Chart.min.js" type="text/javascript"></script>
<script src="../static/assets/js/app-charts-chartjs.js" type="text/javascript"></script>
<script type="text/javascript">
  $(document).ready(function(){
      	//initialize the javascript
      	App.init();
      	App.ChartJs();
      });
    </script>
  </body>
  </html>